<h2>Liste des équipes</h2>

<button type="button" (click)="addTeam()">Ajouter equipe</button>

<div>
  Affichage
  <select [(ngModel)]="team_display">
    <option value="a1">Fiches</option>
    <option value="a2">Tableau</option>
  </select>
</div>

<div>
  <select [(ngModel)]="countrySelected" (change)="filterTeam()">
    <option value="0">Filtrer par pays</option>
    <option *ngFor="let country of countries">{{country}}</option>
  </select>
  <span>{{ teamsFiltered.length }}</span> équipes trouvées

</div>

<team
  [hidden]="team_display == 'a2'"
  style="margin-bottom:70px; display:block"
  [team]="team"
  *ngFor="let team of teams"></team>

<table [hidden]="team_display == 'a1'" class="table table-bordered table-striped">
  <tr>
    <th>Logo</th>
    <th>Nom</th>
    <th>Pays</th>
    <th>Stade</th>
    <th>Entraîneur</th>
    <th>Année de création</th>
    <th>Coupes</th>
  </tr>
  <!-- <tr *ngFor="let team of teams" [hidden]="countrySelected != team.country"> -->
  <tr *ngFor="let team of teamsFiltered">
    <td>
      <img class="logo_small" src="{{team.getLogoUrl()}}" alt="team.name">
    </td>
    <td>{{ team.name }}</td>
    <td>{{ team.country }}</td>
    <td>{{ team.stadium }}</td>
    <td>{{ team.coach }}</td>
    <td [ngClass]="{old: team.founded < 1950}">{{ team.founded }}</td>
    <td><cup [nb]="team.nbCup"></cup></td>
  </tr>
</table>

<!--
démo de l'utilisation du composant cup en relation
avec un menu déroulant
 Souci: la mise à jour de nbSelected n'impacte pas le composant cup
 Raison: le traitement côté enfant ne sait qu'une seule fois (ngOnInit)
 Il faudrait reproduire le traitement dès lors que nbSelected change de valeur

 ... To be continued...
-->
<select [(ngModel)]="nbSelected">
  <option>1</option>
  <option>2</option>
  <option>3</option>
  <option>4</option>
  <option>5</option>
</select>
<p>{{nbSelected}}</p>
<cup [nb]="nbSelected"></cup>
